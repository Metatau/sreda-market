# –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö API –º–∞—Ä—à—Ä—É—Ç–æ–≤

## üö® –ü–†–û–ë–õ–ï–ú–ê
API –º–∞—Ä—à—Ä—É—Ç—ã (`/api/auth/register`, `/api/properties`, –∏ –¥—Ä—É–≥–∏–µ) –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–º–µ—Å—Ç–æ JSON-–æ—Ç–≤–µ—Ç–æ–≤ –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞ middleware –≤ Express. –¢—Ä–µ–±—É–µ—Ç—Å—è –ü–û–õ–ù–ê–Ø –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö API endpoints, —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –º–æ–¥—É–ª–µ–π.

## üéØ –¶–ï–õ–¨
–ü—Ä–æ–≤–µ—Å—Ç–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –í–°–ï–• API –º–∞—Ä—à—Ä—É—Ç–æ–≤, –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –í–°–ï–• —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –º–æ–¥—É–ª–µ–π, –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ middleware —Ä–∞–∑ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞.

## üìã –ü–û–õ–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –°–ò–°–¢–ï–ú–´

### –®–∞–≥ 1: –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã
```bash
# –ù–∞–π–¥–∏ –í–°–ï —Ñ–∞–π–ª—ã —Å–µ—Ä–≤–µ—Ä–∞ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
find . -name "*.ts" -o -name "*.js" | grep -E "(server|route|controller|service|api)" | grep -v node_modules | sort

# –ù–∞–π–¥–∏ –≤—Å–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
find . -name "*.ts" -o -name "*.js" | xargs grep -l "app.use\|app.get\|app.post\|router.use\|router.get\|router.post" | grep -v node_modules

# –ù–∞–π–¥–∏ –≤—Å–µ API endpoints
find . -name "*.ts" -o -name "*.js" | xargs grep -nH "'/api" | grep -v node_modules
```

### –®–∞–≥ 2: –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
**–ü—Ä–æ–≤–µ—Ä—å –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π:**
- [ ] –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞ (server.js, index.js, app.js, server.ts, index.ts)
- [ ] –í—Å–µ —Ñ–∞–π–ª—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤ (routes/, controllers/, api/)
- [ ] –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã (services/, models/, utils/)
- [ ] Middleware —Ñ–∞–π–ª—ã (middleware/, auth/, validation/)
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (config/, .env)

### –®–∞–≥ 3: –ü–æ–ª–Ω–∞—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è API –º–∞—Ä—à—Ä—É—Ç–æ–≤
```bash
# –°–æ–∑–¥–∞–π –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö API endpoints:
echo "=== –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è API –º–∞—Ä—à—Ä—É—Ç–æ–≤ ===" > api_inventory.txt

# –ù–∞–π–¥–∏ –≤—Å–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤
grep -r "\.get\|\.post\|\.put\|\.delete\|\.patch" --include="*.ts" --include="*.js" . | \
grep -E "'/api|/api" | grep -v node_modules >> api_inventory.txt

# –ü—Ä–æ–≤–µ—Ä—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –º–∞—Ä—à—Ä—É—Ç–æ–≤
grep -r "app\.use\|router\.use" --include="*.ts" --include="*.js" . | \
grep -E "api|route" | grep -v node_modules >> api_inventory.txt

cat api_inventory.txt
```

## üîç –°–ò–°–¢–ï–ú–ù–ê–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–û –ö–ê–¢–ï–ì–û–†–ò–Ø–ú

### –ö–ê–¢–ï–ì–û–†–ò–Ø 1: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å –≤—Å–µ auth endpoints
echo "=== –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AUTH endpoints ==="
curl -X GET "http://localhost:3000/api/auth" -I
curl -X POST "http://localhost:3000/api/auth/register" -H "Content-Type: application/json" -d '{}' -I
curl -X POST "http://localhost:3000/api/auth/login" -H "Content-Type: application/json" -d '{}' -I
curl -X POST "http://localhost:3000/api/auth/logout" -I
curl -X GET "http://localhost:3000/api/auth/profile" -I
curl -X GET "http://localhost:3000/api/auth/refresh" -I
```

### –ö–ê–¢–ï–ì–û–†–ò–Ø 2: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å—é
```bash
# –ü—Ä–æ–≤–µ—Ä—å –≤—Å–µ properties endpoints
echo "=== –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ PROPERTIES endpoints ==="
curl -X GET "http://localhost:3000/api/properties" -I
curl -X POST "http://localhost:3000/api/properties" -H "Content-Type: application/json" -d '{}' -I
curl -X GET "http://localhost:3000/api/properties/1" -I
curl -X PUT "http://localhost:3000/api/properties/1" -H "Content-Type: application/json" -d '{}' -I
curl -X DELETE "http://localhost:3000/api/properties/1" -I
curl -X GET "http://localhost:3000/api/properties/search" -I
curl -X GET "http://localhost:3000/api/properties/favorites" -I
```

### –ö–ê–¢–ï–ì–û–†–ò–Ø 3: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
```bash
# –ü—Ä–æ–≤–µ—Ä—å –≤—Å–µ users endpoints
echo "=== –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ USERS endpoints ==="
curl -X GET "http://localhost:3000/api/users" -I
curl -X GET "http://localhost:3000/api/users/profile" -I
curl -X PUT "http://localhost:3000/api/users/profile" -H "Content-Type: application/json" -d '{}' -I
curl -X GET "http://localhost:3000/api/users/1" -I
curl -X DELETE "http://localhost:3000/api/users/1" -I
```

### –ö–ê–¢–ï–ì–û–†–ò–Ø 4: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ API
```bash
# –ù–∞–π–¥–∏ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –í–°–ï –æ—Å—Ç–∞–ª—å–Ω—ã–µ API endpoints
echo "=== –ü–æ–∏—Å–∫ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö API endpoints ==="
grep -r "app\.\|router\." --include="*.ts" --include="*.js" . | \
grep -E "(get|post|put|delete|patch).*'/.*" | \
grep -v node_modules | \
grep "/api" | \
sed 's/.*['"'"'"]\([^'"'"'"]*\)['"'"'"].*/\1/' | \
sort | uniq

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –∫–∞–∂–¥—ã–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π endpoint:
# (–¥–æ–±–∞–≤—å —Å—é–¥–∞ curl –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞)
```

## üîß –ü–†–û–í–ï–†–ö–ê –í–°–ï–• –°–ï–†–í–ò–°–û–í –ò –ú–û–î–£–õ–ï–ô

### –ú–æ–¥—É–ª—å 1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
```bash
# –ü—Ä–æ–≤–µ—Ä—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö ==="
grep -r "database\|db\|connection" --include="*.ts" --include="*.js" . | grep -v node_modules | head -10

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π health check endpoints
curl -X GET "http://localhost:3000/api/health" -I
curl -X GET "http://localhost:3000/health" -I
curl -X GET "http://localhost:3000/api/status" -I
```

### –ú–æ–¥—É–ª—å 2: Middleware –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
```bash
# –ù–∞–π–¥–∏ –≤—Å–µ middleware
echo "=== –ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è middleware ==="
find . -name "*.ts" -o -name "*.js" | xargs grep -l "middleware\|validator\|auth" | grep -v node_modules

# –ü—Ä–æ–≤–µ—Ä—å cors, –ø–∞—Ä—Å–∏–Ω–≥, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
curl -X OPTIONS "http://localhost:3000/api/properties" -I
curl -X POST "http://localhost:3000/api/test" -H "Content-Type: application/json" -d '{"test": "data"}' -I
```

### –ú–æ–¥—É–ª—å 3: –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –∑–∞–≥—Ä—É–∑–∫–∏
```bash
# –ù–∞–π–¥–∏ endpoints –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏
echo "=== –ü–æ–∏—Å–∫ file/upload endpoints ==="
grep -r "upload\|file\|image\|document" --include="*.ts" --include="*.js" . | \
grep -E "(get|post|put|delete)" | \
grep -v node_modules | head -10

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π —Ñ–∞–π–ª–æ–≤—ã–µ operations
curl -X GET "http://localhost:3000/api/files" -I
curl -X POST "http://localhost:3000/api/upload" -I
curl -X GET "http://localhost:3000/api/images" -I
```

### –ú–æ–¥—É–ª—å 4: –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
```bash
# –ù–∞–π–¥–∏ –≤–Ω–µ—à–Ω–∏–µ API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
echo "=== –ü–æ–∏—Å–∫ –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π ==="
grep -r "fetch\|axios\|request\|http" --include="*.ts" --include="*.js" . | \
grep -E "api\.|\.com|\.ru|\.org" | \
grep -v node_modules | head -10

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π proxy endpoints –µ—Å–ª–∏ –µ—Å—Ç—å
curl -X GET "http://localhost:3000/api/external" -I
curl -X GET "http://localhost:3000/api/proxy" -I
```

## üîß –ö–û–ú–ü–õ–ï–ö–°–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï MIDDLEWARE

### –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞
```javascript
// –û—Ç–∫—Ä–æ–π –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –¢–û–ß–ù–´–ô –ø–æ—Ä—è–¥–æ–∫:
// 1. –ö–∞–∫–∏–µ middleware –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ø–µ—Ä–≤—ã–º–∏?
// 2. –ì–¥–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è API routes?
// 3. –ì–¥–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è Vite/—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä?
// 4. –ï—Å—Ç—å –ª–∏ catch-all routes?
// 5. –ï—Å—Ç—å –ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏?
```

### –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫
```javascript
// ‚úÖ –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ô –ü–†–ê–í–ò–õ–¨–ù–´–ô –ü–û–†–Ø–î–û–ö –¥–ª—è –ª—é–±–æ–≥–æ Express –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

// 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ middleware (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
app.use(helmet());
app.use(morgan('combined'));
app.use(compression());

// 2. –ü–∞—Ä—Å–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤
app.use(express.json({ limit: '10mb' }));
app.use(express.urlencoded({ extended: true, limit: '10mb' }));
app.use(cookieParser());

// 3. CORS (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)
app.use(cors({
  origin: process.env.CLIENT_URL || 'http://localhost:3000',
  credentials: true
}));

// 4. –í–°–ï API –ú–ê–†–®–†–£–¢–´ (–≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞)
app.use('/api/auth', authRoutes);           // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è - –≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
app.use('/api/users', userRoutes);          // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
app.use('/api/properties', propertyRoutes); // –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å
app.use('/api/files', fileRoutes);          // –§–∞–π–ª—ã –∏ –∑–∞–≥—Ä—É–∑–∫–∏
app.use('/api/search', searchRoutes);       // –ü–æ–∏—Å–∫
app.use('/api/admin', adminRoutes);         // –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
app.use('/api', generalApiRoutes);          // –û–±—â–∏–µ API routes –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ

// 5. Health check endpoints (–ø–æ—Å–ª–µ API)
app.get('/health', healthCheck);
app.get('/status', statusCheck);

// 6. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç (—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤—Å–µ—Ö API)
if (process.env.NODE_ENV === 'production') {
  app.use(express.static(path.join(__dirname, '../dist')));
} else {
  // Vite middleware —Ç–æ–ª—å–∫–æ –≤ development
  app.use(vite.middlewares);
}

// 7. SPA fallback (–í–°–ï–ì–î–ê –ü–û–°–õ–ï–î–ù–ò–ô!)
app.get('*', (req, res, next) => {
  // –ö–†–ò–¢–ò–ß–ù–û: –∏—Å–∫–ª—é—á–∏—Ç—å API routes!
  if (req.path.startsWith('/api') || req.path.startsWith('/health')) {
    return next(); // 404 –¥–ª—è –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö API
  }
  // SPA fallback —Ç–æ–ª—å–∫–æ –¥–ª—è frontend routes
  if (process.env.NODE_ENV === 'production') {
    res.sendFile(path.join(__dirname, '../dist/index.html'));
  } else {
    next(); // Vite –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ development
  }
});

// 8. Error handling (–°–ê–ú–´–ô –ü–û–°–õ–ï–î–ù–ò–ô middleware)
app.use(errorHandler);
```

## üß™ –ö–û–ú–ü–õ–ï–ö–°–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï –í–°–ï–• –ö–û–ú–ü–û–ù–ï–ù–¢–û–í

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö endpoints
```bash
#!/bin/bash
# –°–æ–∑–¥–∞–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö API

echo "=== –ö–û–ú–ü–õ–ï–ö–°–ù–û–ï –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï API ==="

# –ú–∞—Å—Å–∏–≤ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö API endpoints –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
API_ENDPOINTS=(
  "GET /api"
  "GET /api/health"
  "GET /api/status"
  "POST /api/auth/register"
  "POST /api/auth/login"
  "GET /api/auth/profile"
  "POST /api/auth/logout"
  "GET /api/users"
  "GET /api/users/profile"
  "GET /api/properties"
  "POST /api/properties"
  "GET /api/properties/search"
  "GET /api/files"
  "POST /api/upload"
  "GET /api/admin"
)

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ endpoint
for endpoint in "${API_ENDPOINTS[@]}"; do
  method=$(echo $endpoint | cut -d' ' -f1)
  path=$(echo $endpoint | cut -d' ' -f2)
  
  echo "–¢–µ—Å—Ç–∏—Ä—É—é: $method $path"
  
  if [ "$method" = "GET" ]; then
    response=$(curl -s -I "http://localhost:3000$path" 2>/dev/null | head -1)
  else
    response=$(curl -s -I -X $method "http://localhost:3000$path" -H "Content-Type: application/json" -d '{}' 2>/dev/null | head -1)
  fi
  
  if [[ $response == *"200"* ]] || [[ $response == *"201"* ]] || [[ $response == *"400"* ]] || [[ $response == *"401"* ]] || [[ $response == *"422"* ]]; then
    echo "‚úÖ $endpoint - —Ä–∞–±–æ—Ç–∞–µ—Ç (JSON response)"
  elif [[ $response == *"404"* ]]; then
    echo "‚ö†Ô∏è $endpoint - –Ω–µ –Ω–∞–π–¥–µ–Ω (–≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)"
  else
    echo "‚ùå $endpoint - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML! –ü–†–û–ë–õ–ï–ú–ê MIDDLEWARE!"
  fi
  
  sleep 0.1
done
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Content-Type –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ API endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Content-Type
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ Content-Type –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ ==="

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ Content-Type
check_content_type() {
  local endpoint=$1
  local method=${2:-GET}
  
  if [ "$method" = "GET" ]; then
    content_type=$(curl -s -I "http://localhost:3000$endpoint" | grep -i "content-type" | head -1)
  else
    content_type=$(curl -s -I -X $method "http://localhost:3000$endpoint" -H "Content-Type: application/json" -d '{}' | grep -i "content-type" | head -1)
  fi
  
  if [[ $content_type == *"application/json"* ]]; then
    echo "‚úÖ $endpoint ($method) - Content-Type: application/json"
  elif [[ $content_type == *"text/html"* ]]; then
    echo "‚ùå $endpoint ($method) - Content-Type: text/html (–ü–†–û–ë–õ–ï–ú–ê!)"
  else
    echo "‚ö†Ô∏è $endpoint ($method) - Content-Type: $content_type"
  fi
}

# –ü—Ä–æ–≤–µ—Ä—å –∫–ª—é—á–µ–≤—ã–µ endpoints
check_content_type "/api/auth/register" "POST"
check_content_type "/api/properties" "GET"
check_content_type "/api/users" "GET"
check_content_type "/api/health" "GET"
```

## üîÑ –ü–†–û–í–ï–†–ö–ê –í–°–ï–• –°–ï–†–í–ò–°–û–í

### Database —Å–µ—Ä–≤–∏—Å
```bash
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ Database —Å–µ—Ä–≤–∏—Å–∞ ==="
# –ù–∞–π–¥–∏ —Ñ–∞–π–ª—ã database/db —Å–µ—Ä–≤–∏—Å–∞
find . -name "*.ts" -o -name "*.js" | xargs grep -l "database\|sequelize\|mongoose\|prisma\|drizzle" | grep -v node_modules

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
curl -X GET "http://localhost:3000/api/health/db" -I
```

### Authentication —Å–µ—Ä–≤–∏—Å
```bash
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ Authentication —Å–µ—Ä–≤–∏—Å–∞ ==="
# –ù–∞–π–¥–∏ auth middleware –∏ —Å–µ—Ä–≤–∏—Å—ã
find . -name "*auth*" -name "*.ts" -o -name "*.js" | grep -v node_modules

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
curl -X POST "http://localhost:3000/api/auth/register" \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"test123","name":"Test User"}' \
  -w "\nStatus: %{http_code}\nContent-Type: %{content_type}\n"
```

### Validation —Å–µ—Ä–≤–∏—Å
```bash
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ Validation —Å–µ—Ä–≤–∏—Å–∞ ==="
# –ù–∞–π–¥–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Ö–µ–º—ã
find . -name "*.ts" -o -name "*.js" | xargs grep -l "joi\|yup\|zod\|validator" | grep -v node_modules

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π –≤–∞–ª–∏–¥–∞—Ü–∏—é —Å –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
curl -X POST "http://localhost:3000/api/auth/register" \
  -H "Content-Type: application/json" \
  -d '{"invalid": "data"}' \
  -w "\nStatus: %{http_code}\nContent-Type: %{content_type}\n"
```

### File Upload —Å–µ—Ä–≤–∏—Å
```bash
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ File Upload —Å–µ—Ä–≤–∏—Å–∞ ==="
# –ù–∞–π–¥–∏ multer –∏–ª–∏ –¥—Ä—É–≥–∏–µ file upload middleware
find . -name "*.ts" -o -name "*.js" | xargs grep -l "multer\|upload\|multipart" | grep -v node_modules

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π upload endpoints
curl -X POST "http://localhost:3000/api/upload" \
  -F "file=@package.json" \
  -w "\nStatus: %{http_code}\nContent-Type: %{content_type}\n"
```

## üìä –§–ò–ù–ê–õ–¨–ù–ê–Ø –°–ò–°–¢–ï–ú–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê

### –°–æ–∑–¥–∞–π –æ—Ç—á–µ—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã
```bash
echo "=== –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ –û –°–û–°–¢–û–Ø–ù–ò–ò –°–ò–°–¢–ï–ú–´ ===" > system_health_report.txt
echo "–î–∞—Ç–∞: $(date)" >> system_health_report.txt
echo "" >> system_health_report.txt

echo "### –°–ï–†–í–ï–†–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´ ###" >> system_health_report.txt
echo "–ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä–∞: $(find . -name "server.*" -o -name "index.*" | grep -E "(server|src)" | head -1)" >> system_health_report.txt
echo "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ route —Ñ–∞–π–ª–æ–≤: $(find . -name "*route*" -name "*.ts" -o -name "*.js" | grep -v node_modules | wc -l)" >> system_health_report.txt
echo "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ controller —Ñ–∞–π–ª–æ–≤: $(find . -name "*controller*" -name "*.ts" -o -name "*.js" | grep -v node_modules | wc -l)" >> system_health_report.txt
echo "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ service —Ñ–∞–π–ª–æ–≤: $(find . -name "*service*" -name "*.ts" -o -name "*.js" | grep -v node_modules | wc -l)" >> system_health_report.txt
echo "" >> system_health_report.txt

echo "### API ENDPOINTS –°–¢–ê–¢–£–° ###" >> system_health_report.txt
# –î–æ–±–∞–≤—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ endpoint
echo "" >> system_health_report.txt

echo "### MIDDLEWARE –ü–û–†–Ø–î–û–ö ###" >> system_health_report.txt
# –î–æ–±–∞–≤—å –∞–Ω–∞–ª–∏–∑ –ø–æ—Ä—è–¥–∫–∞ middleware
echo "" >> system_health_report.txt

echo "### –í–´–Ø–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ ###" >> system_health_report.txt
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
echo "" >> system_health_report.txt

echo "### –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò ###" >> system_health_report.txt
# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é
echo "" >> system_health_report.txt

cat system_health_report.txt
```

## ‚úÖ –ö–†–ò–¢–ï–†–ò–ò –ü–û–õ–ù–û–ì–û –£–°–ü–ï–•–ê

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
- [ ] –í–°–ï API endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç JSON (–Ω–µ HTML)
- [ ] –í–°–ï POST/PUT –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í–°–ï —Å–µ—Ä–≤–∏—Å—ã (auth, db, validation, upload) —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É—é—Ç
- [ ] Middleware –ø–æ—Ä—è–¥–æ–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω
- [ ] Frontend SPA routing —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Development hot reload —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç
- [ ] Production build –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è

### –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã:
```bash
# –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ - –í–°–ï –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å:
echo "=== –§–ò–ù–ê–õ–¨–ù–ê–Ø –ö–û–ú–ü–õ–ï–ö–°–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê ==="

# 1. API endpoints
for endpoint in "/api/auth/register" "/api/properties" "/api/users" "/api/health"; do
  result=$(curl -s "http://localhost:3000$endpoint" | head -c 1)
  if [[ $result == "{" ]] || [[ $result == "[" ]]; then
    echo "‚úÖ $endpoint - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON"
  else
    echo "‚ùå $endpoint - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML (–ü–†–û–ë–õ–ï–ú–ê!)"
  fi
done

# 2. Frontend –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
frontend_check=$(curl -s "http://localhost:3000" | head -c 15)
if [[ $frontend_check == "<!DOCTYPE html>" ]]; then
  echo "‚úÖ Frontend –¥–æ—Å—Ç—É–ø–µ–Ω"
else
  echo "‚ùå Frontend –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
fi

# 3. –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã
static_check=$(curl -s -I "http://localhost:3000/assets" | head -1)
if [[ $static_check == *"200"* ]] || [[ $static_check == *"404"* ]]; then
  echo "‚úÖ –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è"
else
  echo "‚ùå –ü—Ä–æ–±–ª–µ–º–∞ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏"
fi

echo "=== –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï ==="
```

## üÜò –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô –ü–†–ò –ö–†–ò–¢–ò–ß–ï–°–ö–ò–• –ü–†–û–ë–õ–ï–ú–ê–•

–ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π API –≤—Å–µ –µ—â–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML:

1. **–ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –ø–æ—Ä—Ç–æ–≤** - –≤–æ–∑–º–æ–∂–Ω–æ —Ä–∞–∑–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞ –æ–¥–Ω–æ–º –ø–æ—Ä—Ç—É
2. **–ü—Ä–æ–≤–µ—Ä—å nginx/proxy** - –≤–æ–∑–º–æ–∂–Ω–æ –µ—Å—Ç—å reverse proxy
3. **–ü—Ä–æ–≤–µ—Ä—å Docker/–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—é** - –≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
4. **–ü—Ä–æ–≤–µ—Ä—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤** - –≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–ø—É—â–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤
5. **–ü—Ä–æ–≤–µ—Ä—å environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** - –≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–ü–û–ú–ù–ò:** –≠—Ç–æ—Ç –ø—Ä–æ–º–ø—Ç –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∏—Ç—å –í–°–ï –ø—Ä–æ–±–ª–µ–º—ã —Å API –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ –∏ –Ω–∞–≤—Å–µ–≥–¥–∞!